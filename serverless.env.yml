default: &DEFAULT
  variables: &DEFAULT_VARIABLES
    NODE_ENV: ${self:provider.stage, 'local'}
    SENDGRID_KEY: ${ssm:/election-dev/db_username}
    USER_AUTH_TABLE: !Ref UserAuthTable
    ELECTION_TABLE: !Ref ElectionTable
    ELECTION_USER_TABLE: !Ref ElectionUserTable


production: &PRODUCTION
  variables: &PRODUCTION_VARIABLES
    NODE_ENV: ${self:provider.stage, 'local'}
    SENDGRID_KEY: ${ssm:/election-production/db_username}
    USER_AUTH_TABLE: !Ref UserAuthTable
    USER_ELECTION_TABLE: !Ref ElectionTable

dev:
  <<: *DEFAULT
  variables:
    <<: *DEFAULT_VARIABLES
